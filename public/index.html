<!DOCTYPE html>
<html>
<head>
  <title>AltoCRM</title>
  <style>
    body { font-family: Arial; padding:20px }
    table { border-collapse: collapse; width:100%; }
    th, td { border:1px solid #ccc; padding:6px; white-space:nowrap }
    th { background:#f4f4f4; position:sticky; top:0 }
  </style>
</head>
<body>

<h2>AltoCRM â€“ Lead Grid (Read Only)</h2>

<table id="grid"></table>

<script>
async function load() {
  const fields = await fetch("/api/fields").then(r=>r.json());
  const leads = await fetch("/api/leads").then(r=>r.json());

  let html = "<tr>" + fields.map(f=>`<th>${f.label}</th>`).join("") + "</tr>";

  leads.forEach(l=>{
    html += "<tr>";
    fields.forEach(f=>{
      html += `<td>${l[f.key] || ""}</td>`;
    });
    html += "</tr>";
  });

  document.getElementById("grid").innerHTML = html;
}

load();
</script>

</body>
</html>
